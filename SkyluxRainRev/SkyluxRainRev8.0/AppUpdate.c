/*
 * File:   AppUpdate.c
 * Author: stronics
 *
 * Created on 22 July 2020, 13:11
 */

/***********************************************************************************************************************
; I N C L U D E S
;---------------------------------------------------------------------------------------------------------------------*/
#include <stdlib.h>
#include <stdint.h>
#include <hal_gpio.h>
#include <stdbool.h>
//Include System Function Libraries
//Include Driver Function Libraries
#include "..\..\Drv\DrvFlash.h"
//Include Standard Function Libraries
#include "..\..\Std\BTLE\StdCasambi.h"
//Include Application Function Libraries
#include "atmel_start_pins.h"
#include "AppUpdate.h"
/**********************************************************************************************************************/

/***********************************************************************************************************************
; V E R I F Y    C O N F I G U R A T I O N
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/

/***********************************************************************************************************************
; L O C A L   D E F I N I T I O N S   A N D   M A C R O S
;---------------------------------------------------------------------------------------------------------------------*/
#define ADDRESS_SOFTWAREVERSION			0x2FF0
#define ADDRESS_UPDATENEEDED			0x2FF4
/**********************************************************************************************************************/

/***********************************************************************************************************************
; L O C A L   T Y P E D E F S
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/

/***********************************************************************************************************************
; L O C A L   F U N C T I O N   P R O T O T Y P E S
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/

/***********************************************************************************************************************
; L O C A L   V A R I A B L E S
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/

/***********************************************************************************************************************
; E X P O R T E D   V A R I A B L E S
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/



/***********************************************************************************************************************
; L O C A L   F U N C T I O N S
;---------------------------------------------------------------------------------------------------------------------*/

/**********************************************************************************************************************/



/***********************************************************************************************************************
; E X P O R T E D   F U N C T I O N S
;---------------------------------------------------------------------------------------------------------------------*/
void AppUpdateInit(void)
{

}
/*--------------------------------------------------------------------------------------------------------------------*/
bool AppUpdateGetFirmwareVersionFromFlash(uint8_t* major, uint8_t* minor)
{
	uint8_t tempbuffer[2];
	
	DrvFlashRead(ADDRESS_SOFTWAREVERSION, tempbuffer, 2);
	major = tempbuffer[0];
	minor = tempbuffer[1];
}
/*--------------------------------------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------------------------------------*/
/**********************************************************************************************************************/


